{% extends 'base.html' %}

{% block content %}
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>
        function loadTable(){
            $.get( "http://localhost:8000/wishlist/json/", function(data){
                for(var i = 0; i<data.length; i++){
                    // buat row
                    var header = document.createElement("tr");

                    // buat cell
                    var cellBarang = document.createElement("td");
                    var cellHarga = document.createElement("td");
                    var cellDeskripsi = document.createElement("td");


                    // append data sesuai rownya
                    cellBarang.append(data[i].fields.nama_barang);
                    cellHarga.append(data[i].fields.harga_barang);
                    cellDeskripsi.append(data[i].fields.deskripsi);

                    // append row ke dalam table
                    header.append(cellBarang);
                    header.append(cellHarga);
                    header.append(cellDeskripsi);

                    // add data ke dalam table
                    $(".table").append(header);
                }
            }); // ini tutu
        } // ini tutupan function

        $(document).ready(function(){
            loadTable();


        })
        

        
    </script>
{% endblock content%}

{% block content %}


  <nav class="navbar navbar-expand-lg bg-light">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">Navbar: Griselda Neysa Sadiya</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="#">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Link</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              Dropdown
            </a>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="#">Action</a></li>
              <li><a class="dropdown-item" href="#">Another action</a></li>
              <li><hr class="dropdown-divider"></li>
              <li><a class="dropdown-item" href="#">Something else here</a></li>
            </ul>
          </li>
          <li class="nav-item">
            <a class="nav-link active">Disabled</a>
          </li>
        </ul>
        <form class="d-flex" role="search">
          <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
          <button class="btn btn-outline-success" type="submit">Search</button>
        </form>
      </div>
    </div>
  </nav>


<div class ="d-flex flex-row align-items-center justify-content-center">
    <h5>Nama: </h5>
    <h5>{{nama}}</h5>
</div>

<table class="table table-light table-striped table-bordered d-flex flex-column align-items-center justify-content-center">
    <tr>
    <th>Nama Barang</th>
    <th>Harga Barang</th>
    <th>Deskripsi</th>
    </tr>
    {% comment %} Tambahkan data di bawah baris ini {% endcomment %}
    {% for barang in list_barang %}
    <tr>
        <td>{{barang.nama_barang}}</td>
        <td>{{barang.harga_barang}}</td>
        <td>{{barang.deskripsi}}</td>
    </tr>
{% endfor %}
</table>



<p><b>Sesi terakhir login : {{last_login}}</b></p>

{% endblock content %}